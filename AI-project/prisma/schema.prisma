// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // âœ… v5 ç‰ˆæœ¬å†™æ³•ï¼šç›´æ¥åœ¨ schema é‡Œè¯»å–ç¯å¢ƒå˜é‡
  url      = env("DATABASE_URL")
}

// å®Œæ•´çš„ AiTask æ¨¡å‹å®šä¹‰
model AiTask {
  // ğŸ”‘ å¿…é¡»æœ‰ @id æ ‡è®°ä¸ºä¸»é”®
  id          String   @id @default(uuid())
  
  // å¯¹åº”æ•°æ®åº“ä¸­çš„ user_id
  userId      String   @map("user_id")
  // å¯¹åº” media_type
  mediaType   String   @map("media_type")
  
  model       String?
  prompt      String?
  options     String?  // å­˜ JSON å­—ç¬¦ä¸²
  status      String?
  
  // å¯¹åº” task_info
  taskInfo    String?  @map("task_info")
  // å¯¹åº” task_result
  taskResult  String?  @map("task_result")
  
  scene       String?
  
  // æ—¶é—´å­—æ®µ
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  // æ˜ å°„åˆ°æ•°æ®åº“è¡¨å "ai_task"
  @@map("ai_task")
}