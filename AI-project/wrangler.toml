name = "banana"
main = ".open-next/worker.js"
compatibility_date = "2025-03-01"
compatibility_flags = ["nodejs_compat"]

[assets]
binding = "ASSETS"
directory = ".open-next/assets"

[[r2_buckets]]
binding = "NEXT_INC_CACHE_R2_BUCKET"
bucket_name = "banana-next-inc-cache"

# # [[hyperdrive]]
# # binding = "HYPERDRIVE"
# # id = ""

[observability]
enabled = true

[vars]
# app
NEXT_PUBLIC_APP_URL = "https://luminglobal.ai"
NEXT_PUBLIC_APP_NAME = "luminglobal.ai"

# better-auth base URL (recommended to match your production origin)
AUTH_URL = "https://luminglobal.ai"

# theme
NEXT_PUBLIC_THEME = "default"

# appearance
NEXT_PUBLIC_APPEARANCE = "system"

# database
DATABASE_PROVIDER = "postgresql"
# Allow direct Postgres connection in Workers when Hyperdrive is not bound.
ALLOW_DIRECT_DB_IN_WORKERS = "true"
# Keep disabled on Workers to avoid hung requests from cross-request DB client reuse.
DB_SINGLETON_ENABLED = "false"
DB_MAX_CONNECTIONS = "1"
AUTH_HANDLER_TIMEOUT_MS = "12000"

# auth secret
# openssl rand -base64 32
# AUTH_SECRET is a secret. Set it via `wrangler secret put AUTH_SECRET`.
